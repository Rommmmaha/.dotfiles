# =======================================================================================
# Input
# =======================================================================================
input {
  kb_layout = us, ua
  kb_options = grp:caps_toggle,fkeys:basic_13-24

  numlock_by_default = true
  follow_mouse = true
}
# =======================================================================================
# Visuals
# =======================================================================================
general {
  gaps_in = 0
  gaps_out = 0
  border_size = 0
  layout = dwindle
  allow_tearing = 0
  resize_on_border = 0
  snap {
    enabled = true
    window_gap = 25
    monitor_gap = 25
  }
}
decoration {
  rounding = 0
  shadow {
    enabled = true
    sharp = true
    range = 1
    color = rgba(ffffff33)
  }
  blur {
    enabled = true
    size = 1
    passes = 4
    new_optimizations = 1
    ignore_opacity = false
  }
}
misc {
  render_unfocused_fps = 60
  vrr = 1
  disable_hyprland_logo = 1
}
binds {
  scroll_event_delay = 0
  hide_special_on_workspace_change = 1
}
animations:enabled = false
opengl:nvidia_anti_flicker = false
ecosystem:no_update_news = 1
experimental:xx_color_management_v4 = true
xwayland:force_zero_scaling = true
# =======================================================================================
# Environment Variables
# =======================================================================================
env = XCURSOR_THEME, GoogleDot-Black
env = XCURSOR_SIZE, 22
env = HYPRCURSOR_THEME, GoogleDot-Black
env = HYPRCURSOR_SIZE, 22

env = XDG_MENU_PREFIX, arch-
env = GDK_SCALE,1

env = QT_QPA_PLATFORM, wayland
env = QT_QPA_PLATFORMTHEME, qt6ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION, 1
env = QT_AUTO_SCREEN_SCALE_FACTOR, 1
# =======================================================================================
# Autostart
# =======================================================================================
#exec-once = pw-loopback --name= "mic-monitor"
exec-once = systemctl --user start hyprpolkitagent
exec-once = hyprpaper
exec-once = dbus-update-activation-environment
exec-once = /usr/lib/xdg-desktop-portal-hyprland
exec-once = kdeconnectd

exec-once = wl-clip-persist --clipboard regular
exec-once = wl-paste -t text -w cliphist store
exec-once = wl-paste -t image -w cliphist store

exec = gsettings set org.gnome.desktop.interface cursor-theme 'GoogleDot-Black'
# =======================================================================================
# Keybinds
# =======================================================================================
$mainMod = SUPER
$configPath = $HOME/.config/hypr
$makeScreenshot = flameshot gui

bind = $mainMod, RETURN, exec, kitty
bind = $mainMod, E, exec, dolphin
bind = $mainMod, X, exec, gedit

bind = $mainMod, S, exec, rofi -show run -theme-str "entry{placeholder:\"$(date +'%T    %u-%d-%m-%Y')\";}"
bind = $mainMod, V, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy
bind = $mainMod, PERIOD, exec, rofimoji -a copy
bind = , XF86Calculator, exec, rofi -show calc -modi calc

bind = , XF86PowerOff, exit,
bind = $mainMod, L, exec, hyprlock
bindi = , PRINT, exec, $makeScreenshot
bind = $mainMod SHIFT, S, exec, $makeScreenshot

bind = $mainMod, W, killactive,
bind = $mainMod, F, togglefloating,
bind = $mainMod, A, fullscreen, 1
bind = $mainMod, Tab, cyclenext,
bind = $mainMod, Tab, bringactivetotop,

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

bind = $mainMod, GRAVE, exec, sh $configPath/workspace_switcher.sh 8
bind = $mainMod SHIFT, GRAVE, movetoworkspacesilent, 8
bind = $mainMod, Q, exec, sh $configPath/workspace_switcher.sh 9
bind = $mainMod SHIFT, Q, movetoworkspacesilent, 9
bind = $mainMod, Z, exec, sh $configPath/workspace_switcher.sh 10
bind = $mainMod SHIFT, Z, movetoworkspacesilent, 10

bind = $mainMod CTRL, LEFT, movewindow, l
bind = $mainMod CTRL, RIGHT, movewindow, r
bind = $mainMod CTRL, UP, movewindow, u
bind = $mainMod CTRL, DOWN, movewindow, d

bindl = SHIFT, ESCAPE, exec, playerctl play-pause

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
# =======================================================================================
# Window Rules
# =======================================================================================
windowrule = noshadow, floating:0

windowrule = pin, class:^(flameshot)$
windowrule = float, class:^(flameshot)$
windowrule = maximize, class:^(flameshot)$
windowrule = stayfocused, class:^(flameshot)$

windowrule = tag +game, class:^(gamescope)$
windowrule = tag +game, class:^(Minecraft.*)$
windowrule = renderunfocused, tag:game

layerrule = ignorezero, notifications

source = $configPath/custom/hyprland-device.conf
